var S=null,D=0,F=new Set,P=Symbol("d");function q(e){return!!e&&typeof e=="object"&&"current"in e}function K(e){return!!e&&typeof e=="object"&&"__html"in e}function I(e){for(let n of e.deps)n.subs.delete(e);e.deps.clear();let t=S;S=e;try{e.fn()}finally{S=t}}function z(){if(D)return;let e=[...F];F.clear();for(let t of e)I(t)}function ce(e){D++;try{return e()}finally{D--,z()}}function A(e,t){let n=t?.equals??Object.is,o={value:e,subs:new Set,get(){return S&&(o.subs.add(S),S.deps.add(o)),o.value},set(r){let c=typeof r=="function"?r(o.value):r;if(!n(o.value,c)){o.value=c;for(let s of o.subs)F.add(s);z()}}};return[()=>o.get(),r=>o.set(r)]}function se(e,t,n){let o=n?.serialize??JSON.stringify,r=n?.deserialize??(i=>JSON.parse(i)),c=t;try{let i=localStorage.getItem(e);i!==null&&(c=r(i))}catch{}let[s,f]=A(c);return[s,i=>{f(i);try{localStorage.setItem(e,o(s()))}catch{}}]}function ie(e){let[t,n]=A(void 0);return h(()=>n(e())),t}function h(e){I({fn:e,deps:new Set,cleanups:[],parent:S})}function E(e){if(!S)throw new Error("onCleanup called outside of a computation");S.cleanups.push(e)}function fe(e){h(()=>{let t=e();t&&typeof t=="function"&&E(t)})}function W(e){let t={fn:()=>{},deps:new Set,cleanups:[],parent:null},n=S;S=t;try{return e(()=>{for(let o of t.cleanups.splice(0))try{o()}catch{}for(let o of t.deps)o.subs.clear();t.deps.clear()})}finally{S=n}}var v=new Map;function ae(e){let t=Symbol("context");return{id:t,defaultValue:e,Provider:o=>{let r=document.createDocumentFragment(),c=v.get(t);v.set(t,o.value);for(let s of o.children){let f=b(s);for(let i of f)r.appendChild(i)}return E(()=>{c!==void 0?v.set(t,c):v.delete(t)}),r}}}function ue(e){let t=v.get(e.id);return t!==void 0?t:e.defaultValue}function N(e){return typeof e=="function"&&e.length===0}var U=/[A-Z]/g;function G(e){return e.startsWith("--")?e:e.replace(U,t=>"-"+t.toLowerCase())}function O(e){if(!e)return{};if(typeof e=="string"){let n={};for(let o of e.split(";")){let r=o.indexOf(":");if(r===-1)continue;let c=o.slice(0,r).trim(),s=o.slice(r+1).trim();c&&(n[c]=s)}return n}let t={};for(let n in e){let o=e[n];t[G(n)]=o==null?"":String(o)}return t}var R=new WeakMap,L=new WeakMap;function _(e,t){let n=R.get(e)||{},o=L.get(e)||new Set;for(let r in n)!(r in t)&&!o.has(r)&&e.style.removeProperty(r);for(let r in t){let c=t[r]??"";n[r]!==c&&e.style.setProperty(r,String(c))}R.set(e,t)}function Z(e,t,n){if(t==="className"&&(t="class"),t==="dangerouslySetInnerHTML"&&K(n)){let o=n.__html;e.innerHTML=o==null?"":String(o);return}if(t==="ref"){let o=n;typeof o=="function"?(o(e),E(()=>o(null))):q(o)&&(o.current=e,E(()=>{o.current=null}));return}if(t==="style"){let o=e;if(N(n)){h(()=>{let r=n();_(o,O(r))});return}if(typeof n=="string"){_(o,O(n));return}if(typeof n=="object"&&n!==null){let r=n,c=L.get(o)||new Set;L.set(o,c);let s={};for(let f in r){let i=r[f];if(N(i)){let d=G(f);c.add(d),h(()=>{let y=i();y==null?o.style.removeProperty(d):o.style.setProperty(d,String(y))})}else s[f]=i}_(o,O(s));return}}if(/^on[A-Z]/.test(t)&&typeof n=="function"){let o=t.slice(2).toLowerCase(),r=n;e.addEventListener(o,r),E(()=>e.removeEventListener(o,r));return}if(t==="value"&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement)){N(n)?h(()=>{let o=n();e.value=o==null?"":String(o)}):e.value=n==null?"":String(n);return}if(t==="checked"&&e instanceof HTMLInputElement){N(n)?h(()=>{e.checked=!!n()}):e.checked=!!n;return}if(typeof n=="boolean"){n?e.setAttribute(t,""):e.removeAttribute(t);return}N(n)?h(()=>{let o=n();o==null||o===!1?e.removeAttribute(t):e.setAttribute(t,o===!0?"":String(o))}):n==null||n===!1?e.removeAttribute(t):e.setAttribute(t,n===!0?"":String(n))}function b(e){if(e==null||e===!1||e===!0)return[];if(e instanceof Node)return[e];if(Array.isArray(e)){let t=[];for(let n of e.flat())t.push(...b(n));return t}return[document.createTextNode(String(e))]}function $(e){let t=e[P];if(t)try{t()}catch{}}function M(e,t){let n=e.nextSibling;for(;n&&n!==t;){let o=n.nextSibling;$(n),n.parentNode?.removeChild(n),n=o}}function X(e,t){let n=e;for(let o of t)n.nextSibling?e.parentNode.insertBefore(o,n.nextSibling):e.parentNode.appendChild(o),n=o}function V(e,t){let n=document.createComment(""),o=document.createComment("");e.appendChild(n),e.appendChild(o),h(()=>{let r=t(),c=b(r);M(n,o),X(n,c)})}function B(e,t){if(!(t==null||t===!1||t===!0)){if(Array.isArray(t)){for(let n of t)B(e,n);return}t instanceof Node?e.appendChild(t):e.appendChild(document.createTextNode(String(t)))}}var Q="http://www.w3.org/2000/svg",ee=new Set(["svg","path","g","defs","clipPath","mask","pattern","linearGradient","radialGradient","stop","circle","ellipse","line","polyline","polygon","rect","use","symbol","marker","text","tspan","textPath","foreignObject","filter","feGaussianBlur","feOffset","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feImage","feMerge","feMergeNode","feMorphology","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","title","desc"]);function de(e,t,...n){if(typeof e=="function"){let c=()=>{},s=W(f=>(c=f,e({...t||{},children:n})));return s[P]=c,s}let r=ee.has(e)?document.createElementNS(Q,e):document.createElement(e);if(t)for(let[c,s]of Object.entries(t))Z(r,c,s);for(let c of n.flat())N(c)?V(r,c):B(r,c);return r}function le(e={},...t){let n=e.children??t,o=document.createDocumentFragment();for(let r of(n??[]).flat())N(r)?V(o,r):B(o,r);return o}function pe(e,t){t.textContent="",t.appendChild(e)}function me(e){let t=document.createComment("show-start"),n=document.createComment("show-end"),o=document.createDocumentFragment();o.appendChild(t),o.appendChild(n);let r=!1;return h(()=>{let c=!!e.when();if(c!==r&&(r=c,M(t,n),c)){let s=b(e.children),f=document.createDocumentFragment();for(let i of s)f.appendChild(i);n.parentNode.insertBefore(f,n)}}),o}function te(e,t){return t.previousSibling===e}function ne(e,t,n){if(te(e,t))return;let o=e.parentNode,r=document.createRange();r.setStartBefore(t),r.setEndAfter(n);let c=r.extractContents(),s=e.nextSibling;s?o.insertBefore(c,s):o.appendChild(c)}function he(e){let t=document.createComment("for-start"),n=document.createComment("for-end"),o=document.createDocumentFragment();o.appendChild(t),o.appendChild(n);function r(){let i=e.children;if(typeof i=="function")return i;if(Array.isArray(i)&&typeof i[0]=="function")return i[0]}let c=new Map,s,f=new Map;return h(()=>{let i=r();if(!i)return;let d=e.each(),y=e.key;if(!y){if(s&&s.length===d.length&&d.every((u,a)=>u===s[a]))return;M(t,n);let p=document.createDocumentFragment();d.forEach((u,a)=>{let m=b(i(u,()=>a));for(let C of m)p.appendChild(C)}),n.parentNode.insertBefore(p,n),s=d.slice();return}let g=[];for(let l=0;l<d.length;l++)g.push(y(d[l]));f.clear(),g.forEach((l,p)=>f.set(l,p));let x=t;for(let l=0;l<d.length;l++){let p=d[l],u=g[l],a=c.get(u);if(a)ne(x,a.start,a.end);else{let m=document.createComment(`for-item-start:${String(u)}`),C=document.createComment(`for-item-end:${String(u)}`),T=()=>f.get(u)??0,w=document.createDocumentFragment();w.appendChild(m);let J=b(i(p,T));for(let Y of J)w.appendChild(Y);w.appendChild(C);let j=x.nextSibling;j?t.parentNode.insertBefore(w,j):t.parentNode.appendChild(w),a={start:m,end:C,index:T},c.set(u,a)}x=a.end}let k=new Set(c.keys());g.forEach(l=>k.delete(l)),k.forEach(l=>{let p=c.get(l);M(p.start,p.end),p.start.parentNode?.removeChild(p.start),p.end.parentNode?.removeChild(p.end),c.delete(l)})}),o}function H(e){if(typeof e!="object"||e===null)return e;Object.freeze(e);for(let t of Object.keys(e)){let n=e[t];n&&typeof n=="object"&&!Object.isFrozen(n)&&H(n)}return e}var ge={create(e){return typeof Deno>"u"||Deno.env?.get("MODE")!=="production"?H({...e}):e},compose(e,t){if(!(!e&&!t))return e?t?{...e,...t}:e||void 0:t||void 0},merge(...e){let t={},n=!1;for(let o of e)o&&(Object.assign(t,o),n=!0);return n?t:void 0},cssVar(e,t){return{[e]:t}}};function Se(e,t={}){let n=t.name??"__app_store__",o=t.version??1,r=()=>{if(t.persist)try{let u=globalThis.localStorage?.getItem(n);if(!u)return;let a=JSON.parse(u);if(typeof a?.v=="number"&&a?.s)return t.migrate&&a.v!==o?t.migrate(a.v,a.s):a.s}catch{}},[c,s]=A(void 0),f=()=>c(),i=u=>{let a=typeof u=="function"?u(c()):u;if(!a||typeof a!="object")return;let m=Object.assign({},c(),a);if(!Object.is(m,c())){s(m),x(m);for(let C of l)C()}},d=e(i,f),y=r();s(y?Object.assign({},d,y):d);let g=null;function x(u){t.persist&&(g&&globalThis.clearTimeout(g),g=globalThis.setTimeout(()=>{try{globalThis.localStorage?.setItem(n,JSON.stringify({v:o,s:u}))}catch{}g=null},10))}t.persist&&typeof globalThis.addEventListener=="function"&&globalThis.addEventListener("storage",u=>{let a=u;if(!(a.key!==n||a.newValue==null))try{let m=JSON.parse(a.newValue);if(!m?.s)return;s(C=>Object.assign({},C,m.s))}catch{}});function k(u,a=Object.is){let[m,C]=A(u(c()));return h(()=>{let T=u(c());C(w=>a(w,T)?w:T)}),m}let l=new Set;function p(u){return l.add(u),()=>l.delete(u)}return{getState:f,setState:i,select:k,subscribe:p}}function ye(e){let t=document.createComment("switch-start"),n=document.createComment("switch-end"),o=document.createDocumentFragment();return o.appendChild(t),o.appendChild(n),h(()=>{M(t,n);let r=!1;for(let c of e.children)if(oe(c)){let s=c;if(s.condition()){let f=b(s.children),i=document.createDocumentFragment();for(let d of f)i.appendChild(d);n.parentNode.insertBefore(i,n),r=!0;break}}if(!r&&e.fallback){let c=b(e.fallback),s=document.createDocumentFragment();for(let f of c)s.appendChild(f);n.parentNode.insertBefore(s,n)}}),o}function oe(e){return!!e?.__isMatch}function Ce(e){return{condition:()=>!!e.when(),children:e.children,__isMatch:!0}}function be(e){return{Switch:t=>{let n=document.createComment("matcher-switch-start"),o=document.createComment("matcher-switch-end"),r=document.createDocumentFragment();return r.appendChild(n),r.appendChild(o),h(()=>{let c=e();M(n,o);let s=!1;for(let f of t.children)if(re(f)){let i=f;if(typeof i.when=="function"?i.when(c):i.when===c){let y=b(i.children),g=document.createDocumentFragment();for(let x of y)g.appendChild(x);o.parentNode.insertBefore(g,o),s=!0;break}}if(!s&&t.fallback){let f=b(t.fallback),i=document.createDocumentFragment();for(let d of f)i.appendChild(d);o.parentNode.insertBefore(i,o)}}),r},Match:t=>({when:t.when,children:t.children,__isMatcherCase:!0})}}function re(e){return!!e?.__isMatcherCase}export{he as For,le as Fragment,Ce as Match,me as Show,ge as StyleSheet,ye as Switch,ce as batch,M as clearRange,ae as createContext,h as createEffect,be as createMatcher,ie as createMemo,W as createRoot,A as createSignal,se as createStorageSignal,Se as createStore,de as h,X as insertNodesAfter,pe as mount,b as normalizeToNodes,E as onCleanup,fe as onMount,ue as useContext};
