var S=null,D=0,O=new Set,P=Symbol("d");function K(e){return!!e&&typeof e=="object"&&"current"in e}function W(e){return!!e&&typeof e=="object"&&"__html"in e}function G(e){for(let n of e.deps)n.subs.delete(e);e.deps.clear();let t=S;S=e;try{e.fn()}finally{S=t}}function V(){if(D)return;let e=[...O];O.clear();for(let t of e)G(t)}function ce(e){D++;try{return e()}finally{D--,V()}}function F(e){let t={value:e,subs:new Set,get(){return S&&(t.subs.add(S),S.deps.add(t)),t.value},set(n){let o=typeof n=="function"?n(t.value):n;if(!Object.is(o,t.value)){t.value=o;for(let r of t.subs)O.add(r);V()}}};return[()=>t.get(),n=>t.set(n)]}function se(e){let[t,n]=F(void 0);return h(()=>n(e())),t}function h(e){G({fn:e,deps:new Set,cleanups:[],parent:S})}function v(e){if(!S)throw new Error("onCleanup called outside of a computation");S.cleanups.push(e)}function ie(e){h(()=>{let t=e();t&&typeof t=="function"&&v(t)})}function U(e){let t={fn:()=>{},deps:new Set,cleanups:[],parent:null},n=S;S=t;try{return e(()=>{for(let o of t.cleanups.splice(0))try{o()}catch{}for(let o of t.deps)o.subs.clear();t.deps.clear()})}finally{S=n}}var E=new Map;function fe(e){let t=Symbol("context");return{id:t,defaultValue:e,Provider:o=>{let r=document.createDocumentFragment(),c=E.get(t);E.set(t,o.value);for(let s of o.children){let a=b(s);for(let i of a)r.appendChild(i)}return v(()=>{c!==void 0?E.set(t,c):E.delete(t)}),r}}}function ae(e){let t=E.get(e.id);return t!==void 0?t:e.defaultValue}function M(e){return typeof e=="function"&&e.length===0}var Z=/[A-Z]/g;function I(e){return e.startsWith("--")?e:e.replace(Z,t=>"-"+t.toLowerCase())}function A(e){if(!e)return{};if(typeof e=="string"){let n={};for(let o of e.split(";")){let r=o.indexOf(":");if(r===-1)continue;let c=o.slice(0,r).trim(),s=o.slice(r+1).trim();c&&(n[c]=s)}return n}let t={};for(let n in e){let o=e[n];t[I(n)]=o==null?"":String(o)}return t}var R=new WeakMap,L=new WeakMap;function _(e,t){let n=R.get(e)||{},o=L.get(e)||new Set;for(let r in n)!(r in t)&&!o.has(r)&&e.style.removeProperty(r);for(let r in t){let c=t[r]??"";n[r]!==c&&e.style.setProperty(r,String(c))}R.set(e,t)}function $(e,t,n){if(t==="className"&&(t="class"),t==="dangerouslySetInnerHTML"&&W(n)){let o=n.__html;e.innerHTML=o==null?"":String(o);return}if(t==="ref"){let o=n;typeof o=="function"?(o(e),v(()=>o(null))):K(o)&&(o.current=e,v(()=>{o.current=null}));return}if(t==="style"){let o=e;if(M(n)){h(()=>{let r=n();_(o,A(r))});return}if(typeof n=="string"){_(o,A(n));return}if(typeof n=="object"&&n!==null){let r=n,c=L.get(o)||new Set;L.set(o,c);let s={};for(let a in r){let i=r[a];if(M(i)){let d=I(a);c.add(d),h(()=>{let y=i();y==null?o.style.removeProperty(d):o.style.setProperty(d,String(y))})}else s[a]=i}_(o,A(s));return}}if(/^on[A-Z]/.test(t)&&typeof n=="function"){let o=t.slice(2).toLowerCase(),r=n;e.addEventListener(o,r),v(()=>e.removeEventListener(o,r));return}if(t==="value"&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement)){M(n)?h(()=>{let o=n();e.value=o==null?"":String(o)}):e.value=n==null?"":String(n);return}if(t==="checked"&&e instanceof HTMLInputElement){M(n)?h(()=>{e.checked=!!n()}):e.checked=!!n;return}if(typeof n=="boolean"){n?e.setAttribute(t,""):e.removeAttribute(t);return}M(n)?h(()=>{let o=n();o==null||o===!1?e.removeAttribute(t):e.setAttribute(t,o===!0?"":String(o))}):n==null||n===!1?e.removeAttribute(t):e.setAttribute(t,n===!0?"":String(n))}function b(e){if(e==null||e===!1||e===!0)return[];if(e instanceof Node)return[e];if(Array.isArray(e)){let t=[];for(let n of e.flat())t.push(...b(n));return t}return[document.createTextNode(String(e))]}function q(e){let t=e[P];if(t)try{t()}catch{}}function N(e,t){let n=e.nextSibling;for(;n&&n!==t;){let o=n.nextSibling;q(n),n.parentNode?.removeChild(n),n=o}}function X(e,t){let n=e;for(let o of t)n.nextSibling?e.parentNode.insertBefore(o,n.nextSibling):e.parentNode.appendChild(o),n=o}function H(e,t){let n=document.createComment(""),o=document.createComment("");e.appendChild(n),e.appendChild(o),h(()=>{let r=t(),c=b(r);N(n,o),X(n,c)})}function B(e,t){if(!(t==null||t===!1||t===!0)){if(Array.isArray(t)){for(let n of t)B(e,n);return}t instanceof Node?e.appendChild(t):e.appendChild(document.createTextNode(String(t)))}}var Q="http://www.w3.org/2000/svg",ee=new Set(["svg","path","g","defs","clipPath","mask","pattern","linearGradient","radialGradient","stop","circle","ellipse","line","polyline","polygon","rect","use","symbol","marker","text","tspan","textPath","foreignObject","filter","feGaussianBlur","feOffset","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feImage","feMerge","feMergeNode","feMorphology","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","title","desc"]);function ue(e,t,...n){if(typeof e=="function"){let c=()=>{},s=U(a=>(c=a,e({...t||{},children:n})));return s[P]=c,s}let r=ee.has(e)?document.createElementNS(Q,e):document.createElement(e);if(t)for(let[c,s]of Object.entries(t))$(r,c,s);for(let c of n.flat())M(c)?H(r,c):B(r,c);return r}function de(e={},...t){let n=e.children??t,o=document.createDocumentFragment();for(let r of(n??[]).flat())M(r)?H(o,r):B(o,r);return o}function le(e,t){t.textContent="",t.appendChild(e)}function pe(e){let t=document.createComment("show-start"),n=document.createComment("show-end"),o=document.createDocumentFragment();o.appendChild(t),o.appendChild(n);let r=!1;return h(()=>{let c=!!e.when();if(c!==r&&(r=c,N(t,n),c)){let s=b(e.children),a=document.createDocumentFragment();for(let i of s)a.appendChild(i);n.parentNode.insertBefore(a,n)}}),o}function te(e,t){return t.previousSibling===e}function ne(e,t,n){if(te(e,t))return;let o=e.parentNode,r=document.createRange();r.setStartBefore(t),r.setEndAfter(n);let c=r.extractContents(),s=e.nextSibling;s?o.insertBefore(c,s):o.appendChild(c)}function me(e){let t=document.createComment("for-start"),n=document.createComment("for-end"),o=document.createDocumentFragment();o.appendChild(t),o.appendChild(n);function r(){let i=e.children;if(typeof i=="function")return i;if(Array.isArray(i)&&typeof i[0]=="function")return i[0]}let c=new Map,s,a=new Map;return h(()=>{let i=r();if(!i)return;let d=e.each(),y=e.key;if(!y){if(s&&s.length===d.length&&d.every((u,f)=>u===s[f]))return;N(t,n);let p=document.createDocumentFragment();d.forEach((u,f)=>{let m=b(i(u,()=>f));for(let C of m)p.appendChild(C)}),n.parentNode.insertBefore(p,n),s=d.slice();return}let g=[];for(let l=0;l<d.length;l++)g.push(y(d[l]));a.clear(),g.forEach((l,p)=>a.set(l,p));let x=t;for(let l=0;l<d.length;l++){let p=d[l],u=g[l],f=c.get(u);if(f)ne(x,f.start,f.end);else{let m=document.createComment(`for-item-start:${String(u)}`),C=document.createComment(`for-item-end:${String(u)}`),T=()=>a.get(u)??0,w=document.createDocumentFragment();w.appendChild(m);let Y=b(i(p,T));for(let J of Y)w.appendChild(J);w.appendChild(C);let j=x.nextSibling;j?t.parentNode.insertBefore(w,j):t.parentNode.appendChild(w),f={start:m,end:C,index:T},c.set(u,f)}x=f.end}let k=new Set(c.keys());g.forEach(l=>k.delete(l)),k.forEach(l=>{let p=c.get(l);N(p.start,p.end),p.start.parentNode?.removeChild(p.start),p.end.parentNode?.removeChild(p.end),c.delete(l)})}),o}function z(e){if(typeof e!="object"||e===null)return e;Object.freeze(e);for(let t of Object.keys(e)){let n=e[t];n&&typeof n=="object"&&!Object.isFrozen(n)&&z(n)}return e}var he={create(e){return typeof Deno>"u"||Deno.env?.get("MODE")!=="production"?z({...e}):e},compose(e,t){if(!(!e&&!t))return e?t?{...e,...t}:e||void 0:t||void 0},merge(...e){let t={},n=!1;for(let o of e)o&&(Object.assign(t,o),n=!0);return n?t:void 0},cssVar(e,t){return{[e]:t}}};function ge(e,t={}){let n=t.name??"__app_store__",o=t.version??1,r=()=>{if(t.persist)try{let u=globalThis.localStorage?.getItem(n);if(!u)return;let f=JSON.parse(u);if(typeof f?.v=="number"&&f?.s)return t.migrate&&f.v!==o?t.migrate(f.v,f.s):f.s}catch{}},[c,s]=F(void 0),a=()=>c(),i=u=>{let f=typeof u=="function"?u(c()):u;if(!f||typeof f!="object")return;let m=Object.assign({},c(),f);if(!Object.is(m,c())){s(m),x(m);for(let C of l)C()}},d=e(i,a),y=r();s(y?Object.assign({},d,y):d);let g=null;function x(u){t.persist&&(g&&globalThis.clearTimeout(g),g=globalThis.setTimeout(()=>{try{globalThis.localStorage?.setItem(n,JSON.stringify({v:o,s:u}))}catch{}g=null},10))}t.persist&&typeof globalThis.addEventListener=="function"&&globalThis.addEventListener("storage",u=>{let f=u;if(!(f.key!==n||f.newValue==null))try{let m=JSON.parse(f.newValue);if(!m?.s)return;s(C=>Object.assign({},C,m.s))}catch{}});function k(u,f=Object.is){let[m,C]=F(u(c()));return h(()=>{let T=u(c());C(w=>f(w,T)?w:T)}),m}let l=new Set;function p(u){return l.add(u),()=>l.delete(u)}return{getState:a,setState:i,select:k,subscribe:p}}function Se(e){let t=document.createComment("switch-start"),n=document.createComment("switch-end"),o=document.createDocumentFragment();return o.appendChild(t),o.appendChild(n),h(()=>{N(t,n);let r=!1;for(let c of e.children)if(oe(c)){let s=c;if(s.condition()){let a=b(s.children),i=document.createDocumentFragment();for(let d of a)i.appendChild(d);n.parentNode.insertBefore(i,n),r=!0;break}}if(!r&&e.fallback){let c=b(e.fallback),s=document.createDocumentFragment();for(let a of c)s.appendChild(a);n.parentNode.insertBefore(s,n)}}),o}function oe(e){return!!e?.__isMatch}function ye(e){return{condition:()=>!!e.when(),children:e.children,__isMatch:!0}}function Ce(e){return{Switch:t=>{let n=document.createComment("matcher-switch-start"),o=document.createComment("matcher-switch-end"),r=document.createDocumentFragment();return r.appendChild(n),r.appendChild(o),h(()=>{let c=e();N(n,o);let s=!1;for(let a of t.children)if(re(a)){let i=a;if(typeof i.when=="function"?i.when(c):i.when===c){let y=b(i.children),g=document.createDocumentFragment();for(let x of y)g.appendChild(x);o.parentNode.insertBefore(g,o),s=!0;break}}if(!s&&t.fallback){let a=b(t.fallback),i=document.createDocumentFragment();for(let d of a)i.appendChild(d);o.parentNode.insertBefore(i,o)}}),r},Match:t=>({when:t.when,children:t.children,__isMatcherCase:!0})}}function re(e){return!!e?.__isMatcherCase}export{me as For,de as Fragment,ye as Match,pe as Show,he as StyleSheet,Se as Switch,ce as batch,N as clearRange,fe as createContext,h as createEffect,Ce as createMatcher,se as createMemo,U as createRoot,F as createSignal,ge as createStore,ue as h,X as insertNodesAfter,le as mount,b as normalizeToNodes,v as onCleanup,ie as onMount,ae as useContext};
